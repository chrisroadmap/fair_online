<!DOCTYPE html>
<html>
    <body>
        <form method="post" action="{{ url_for('fair') }}">
            {{ form.hidden_tag() }}

            {{ form.useMultigas.label }} {{ form.useMultigas(onchange="toggleEnsembleDisabled(this.checked)") }}
            <br>

            {{ form.rcp.label }} {{ form.rcp() }}
            <br>

            {{ form.ecs.label }} {{ form.ecs() }}
            {% if form.ecs.errors %}
                Error: {{ ', '.join(form.ecs.errors) }}
            {% endif %}
            <br>

            {{ form.tcr.label }} {{ form.tcr() }}
            {% if form.tcr.errors %}
                Error: {{ ', '.join(form.tcr.errors) }}
            {% endif %}
            <br>
            {{ form.r0.label }} {{ form.r0() }}
            {% if form.r0.errors %}
                Error: {{ ', '.join(form.r0.errors) }}
            {% endif %}
            <br>
            {{ form.rc.label }} {{ form.rc() }}
            {% if form.rc.errors %}
                Error: {{ ', '.join(form.rc.errors) }}
            {% endif %}
            <br>
            {{ form.rt.label }} {{ form.rt() }}
            {% if form.rt.errors %}
                Error: {{ ', '.join(form.rt.errors) }}
            {% endif %}
            <br>

            Scale factors:<br>
            {{ form.sf_co2.label }} {{ form.sf_co2() }}
            {% if form.sf_co2.errors %}
                Error: {{ ', '.join(form.sf_co2.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_ch4.label }} {{ form.sf_ch4(disabled=True) }}
            {% else %}
                {{ form.sf_ch4.label }} {{ form.sf_ch4() }}
            {% endif %}
            {% if form.sf_ch4.errors %}
                Error: {{ ', '.join(form.sf_ch4.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_n2o.label }} {{ form.sf_n2o(disabled=True) }}
            {% else %}
                {{ form.sf_n2o.label }} {{ form.sf_n2o(value=form.sf_n2o.data) }}
            {% endif %}
            {% if form.sf_n2o.errors %}
                Error: {{ ', '.join(form.sf_n2o.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_other.label }} {{ form.sf_other(disabled=True) }}
            {% else %}
                {{ form.sf_other.label }} {{ form.sf_other() }}
            {% endif %}
            {% if form.sf_other.errors %}
                Error: {{ ', '.join(form.sf_other.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_tro3.label }} {{ form.sf_tro3(disabled=True) }}
            {% else %}
                {{ form.sf_tro3.label }} {{ form.sf_tro3() }}
            {% endif %}
            {% if form.sf_tro3.errors %}
                Error: {{ ', '.join(form.sf_tro3.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_sto3.label }} {{ form.sf_sto3(disabled=True) }}
            {% else %}
                {{ form.sf_sto3.label }} {{ form.sf_sto3() }}
            {% endif %}
            {% if form.sf_sto3.errors %}
                Error: {{ ', '.join(form.sf_sto3.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_sth2o.label }} {{ form.sf_sth2o(disabled=True) }}
            {% else %}
                {{ form.sf_sth2o.label }} {{ form.sf_sth2o() }}
            {% endif %}
            {% if form.sf_sth2o.errors %}
                Error: {{ ', '.join(form.sf_sth2o.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_con.label }} {{ form.sf_con(disabled=True) }}
            {% else %}
                {{ form.sf_con.label }} {{ form.sf_con() }}
            {% endif %}
            {% if form.sf_con.errors %}
                Error: {{ ', '.join(form.sf_con.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_aer.label }} {{ form.sf_aer(disabled=True) }}
            {% else %}
                {{ form.sf_aer.label }} {{ form.sf_aer() }}
            {% endif %}
            {% if form.sf_aer.errors %}
                Error: {{ ', '.join(form.sf_aer.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_bcsnow.label }} {{ form.sf_bcsnow(disabled=True) }}
            {% else %}
                {{ form.sf_bcsnow.label }} {{ form.sf_bcsnow() }}
            {% endif %}
            {% if form.sf_bcsnow.errors %}
                Error: {{ ', '.join(form.sf_bcsnow.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_landuse.label }} {{ form.sf_landuse(disabled=True) }}
            {% else %}
                {{ form.sf_landuse.label }} {{ form.sf_landuse() }}
            {% endif %}
            {% if form.sf_landuse.errors %}
                Error: {{ ', '.join(form.sf_landuse.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_vol.label }} {{ form.sf_vol(disabled=True) }}
            {% else %}
                {{ form.sf_vol.label }} {{ form.sf_vol() }}
            {% endif %}
            {% if form.sf_vol.errors %}
                Error: {{ ', '.join(form.sf_vol.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_sol.label }} {{ form.sf_sol(disabled=True) }}
            {% else %}
                {{ form.sf_sol.label }} {{ form.sf_sol() }}
            {% endif %}
            {% if form.sf_sol.errors %}
                Error: {{ ', '.join(form.sf_sol.errors) }}
            {% endif %}
            <br>
            <input type="submit" value="Calculate"/>
        </form>
        {% if result %}
            Result is: {{ result }}
        {% endif %}
    </body>

    <script>
    function toggleEnsembleDisabled(_checked) {
        document.getElementById('sf_ch4').disabled = !_checked;
        document.getElementById('sf_n2o').disabled = !_checked;
        document.getElementById('sf_other').disabled = !_checked;
        document.getElementById('sf_tro3').disabled = !_checked;
        document.getElementById('sf_sto3').disabled = !_checked;
        document.getElementById('sf_sth2o').disabled = !_checked;
        document.getElementById('sf_con').disabled = !_checked;
        document.getElementById('sf_aer').disabled = !_checked;
        document.getElementById('sf_bcsnow').disabled = !_checked;
        document.getElementById('sf_landuse').disabled = !_checked;
        document.getElementById('sf_vol').disabled = !_checked;
        document.getElementById('sf_sol').disabled = !_checked;
    }
    </script>
</html>