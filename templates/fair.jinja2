<!DOCTYPE html>
<html>
    <body>
        <form method="post" action="{{ url_for('fair') }}">
            {{ form.hidden_tag() }}

            {{ form.useMultigas.label }} {{ form.useMultigas(onchange="toggleEnsembleDisabled(this.checked)") }}
            <br>

            {{ form.rcp.label }} {{ form.rcp() }}
            <br>

            {{ form.ecs.label }} {{ form.ecs() }}
            {% if form.ecs.errors %}
                Error: {{ ', '.join(form.ecs.errors) }}
            {% endif %}
            <br>

            {{ form.tcr.label }} {{ form.tcr() }}
            {% if form.tcr.errors %}
                Error: {{ ', '.join(form.tcr.errors) }}
            {% endif %}
            <br>
            {{ form.r0.label }} {{ form.r0() }}
            {% if form.r0.errors %}
                Error: {{ ', '.join(form.r0.errors) }}
            {% endif %}
            <br>

            Scale factors:<br>
            {{ form.sf_co2.label }} {{ form.sf_co2() }}
            {% if form.sf_co2.errors %}
                Error: {{ ', '.join(form.sf_co2.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_ch4.label }} {{ form.sf_ch4(disabled=True) }}
            {% else %}
                {{ form.sf_ch4.label }} {{ form.sf_ch4() }}
            {% endif %}
            {% if form.sf_ch4.errors %}
                Error: {{ ', '.join(form.sf_ch4.errors) }}
            {% endif %}
            <br>
            {% if form.useMultigas.data == false %}
                {{ form.sf_n2o.label }} {{ form.sf_n2o(disabled=True, value=form.sf_n2o.data) }}
            {% else %}
                {{ form.sf_n2o.label }} {{ form.sf_n2o(value=form.sf_n2o.data) }}
            {% endif %}
            {% if form.sf_n2o.errors %}
                Error: {{ ', '.join(form.sf_n2o.errors) }}
            {% endif %}
            <br>

            <input type="submit" value="Calculate"/>
        </form>
        {% if result %}
            Result is: {{ result }}
        {% endif %}
    </body>

    <script>
    function toggleEnsembleDisabled(_checked) {
        document.getElementById('sf_ch4').disabled = !_checked;
        document.getElementById('sf_n2o').disabled = !_checked;
    }
    </script>
</html>